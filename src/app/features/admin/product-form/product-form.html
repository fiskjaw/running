<div class="form-container">
  <h2>{{ isEditMode ? 'Edit Product' : 'Add New Product' }}</h2>

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="title">Product Title</label>
      <input id="title" type="text" formControlName="title" placeholder="e.g. Running Shirt">
      @if (productForm.get('title')?.invalid && productForm.get('title')?.touched) {
        <span class="error-text">Title is required (min 3 characters).</span>
      }
    </div>

    <div class="form-group">
      <label for="subtitle">Subtitle</label>
      <input id="subtitle" type="text" formControlName="subtitle" placeholder="e.g. Endurance Kit">
      @if (productForm.get('subtitle')?.invalid && productForm.get('subtitle')?.touched) {
        <span class="error-text">Subtitle is required.</span>
      }
    </div>

    <div class="form-group">
      <label for="price">Price ($)</label>
      <input id="price" type="number" formControlName="price" placeholder="0.00">
      @if (productForm.get('price')?.invalid && productForm.get('price')?.touched) {
        <span class="error-text">Valid price is required.</span>
      }
    </div>

    <div class="form-group">
      <label for="imgUrl">Image URL</label>
      <input id="imgUrl" type="text" formControlName="imgUrl" placeholder="e.g. assets/images/a1.webp">
      @if (productForm.get('imgUrl')?.invalid && productForm.get('imgUrl')?.touched) {
        <span class="error-text">Image URL is required.</span>
      }
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description" rows="4" placeholder="Product details..."></textarea>
      @if (productForm.get('description')?.invalid && productForm.get('description')?.touched) {
        <span class="error-text">Description is required (min 10 characters).</span>
      }
    </div>

    <button type="submit" class="submit-btn" [disabled]="productForm.invalid || isLoading">
      {{ isLoading ? 'Saving...' : (isEditMode ? 'Update Product' : 'Create Product') }}
    </button>

  </form>
</div>